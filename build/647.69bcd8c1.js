(self.webpackChunkyabe_kokoro_src=self.webpackChunkyabe_kokoro_src||[]).push([[647],{2247:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});n(5608);var r=n(3589);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.create(Object.assign({baseURL:kokoro.rest_api.url,headers:{"content-type":"application/json",accept:"application/json","X-WP-Nonce":kokoro.rest_api.nonce}},e))}},1572:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});n(5608);var r=n(2602),o=n.n(r),a=n(5917),i=n(3553);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(o())(Object.assign({icons:{prefix:"",suffix:"",tip:'<div class="icon-tip">'.concat((0,a.qv)(i.FDd).html,"</div>"),async:'<div class="icon-async">'.concat((0,a.qv)(i.gr5).html,"</div>"),info:'<div class="icon-info">'.concat((0,a.qv)(i.DBf).html,"</div>"),success:'<div class="icon-success">'.concat((0,a.qv)(i.fV7).html,"</div>"),warning:'<div class="icon-warning">'.concat((0,a.qv)(i.xHz).html,"</div>"),alert:'<div class="icon-alert">'.concat((0,a.qv)(i.ik8).html,"</div>")}},e))}},327:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});n(9239),n(6949),n(3199),n(2462),n(8495);var r=n(217),o=n(2811),a=n(6440),i=(0,r.Q_)("busy",(function(){var e=(0,o.iH)([]),t=(0,a.Fl)((function(){return e.value.length>0})),n=(0,a.Fl)((function(){return function(t){return e.value.some((function(e){return e.task===t}))}}));return{tasks:e,isBusy:t,hasTask:n,add:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.value.unshift({timestamp:Date.now(),task:t})},remove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;e.value=e.value.filter((function(e){return!!n||(e.task!==t||(n=!0,!1))}))},reset:function(){e.value=[]}}}))},7867:(e,t,n)=>{"use strict";var r=n(7803).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},1199:(e,t,n)=>{var r=n(4197),o=n(1302),a=Math.floor,i=r("".charAt),l=r("".replace),u=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var v=n+e.length,p=r.length,b=c;return void 0!==f&&(f=o(f),b=s),l(d,b,(function(o,l){var s;switch(i(l,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,v);case"<":s=f[u(l,1,-1)];break;default:var c=+l;if(0===c)return o;if(c>p){var d=a(c/10);return 0===d?o:d<=p?void 0===r[d-1]?i(l,1):r[d-1]+i(l,1):o}s=r[c-1]}return void 0===s?"":s}))}},5995:(e,t,n)=>{var r=n(8078).PROPER,o=n(6082),a=n(3814);e.exports=function(e){return o((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e}))}},2234:(e,t,n)=>{"use strict";var r=n(6500),o=n(7124),a=n(4197),i=n(2447),l=n(6082),u=n(813),s=n(3911),c=n(268),f=n(9653),d=n(8937),v=n(843),p=n(9075),b=n(7867),y=n(3504),m=n(1199),g=n(1620),_=n(1561)("replace"),k=Math.max,h=Math.min,w=a([].concat),S=a([].push),x=a("".indexOf),j=a("".slice),O="$0"==="a".replace(/./,"$0"),U=!!/./[_]&&""===/./[_]("a","$0");i("replace",(function(e,t,n){var a=U?"$":"$0";return[function(e,n){var r=p(this),a=c(e)?void 0:y(e,_);return a?o(a,e,r,n):o(t,v(r),e,n)},function(e,o){var i=u(this),l=v(e);if("string"==typeof o&&-1===x(o,a)&&-1===x(o,"$<")){var c=n(t,i,l,o);if(c.done)return c.value}var p=s(o);p||(o=v(o));var y=i.global;if(y){var _=i.unicode;i.lastIndex=0}for(var O=[];;){var U=g(i,l);if(null===U)break;if(S(O,U),!y)break;""===v(U[0])&&(i.lastIndex=b(l,d(i.lastIndex),_))}for(var Z,D="",P=0,z=0;z<O.length;z++){for(var $=v((U=O[z])[0]),C=k(h(f(U.index),l.length),0),T=[],q=1;q<U.length;q++)S(T,void 0===(Z=U[q])?Z:String(Z));var H=U.groups;if(p){var K=w([$],T,C,l);void 0!==H&&S(K,H);var N=v(r(o,void 0,K))}else N=m($,l,C,T,H,o);C>=P&&(D+=j(l,P,C)+N,P=C+$.length)}return D+j(l,P)}]}),!!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||U)},9481:(e,t,n)=>{"use strict";var r=n(9131),o=n(8426).trim;r({target:"String",proto:!0,forced:n(5995)("trim")},{trim:function(){return o(this)}})},8647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});n(6777),n(2234),n(9481),n(7024),n(6949),n(1420),n(6842),n(891),n(2393),n(6021),n(3490),n(516),n(4104),n(9852),n(8495),n(5731),n(2910),n(5475),n(733),n(6711),n(597),n(3715),n(2621),n(937);var r=n(6440),o=n(1040),a=n(2811),i=n(1254),l=n(9988),u=n(9389),s=n(2247),c=n(327),f=n(1572),d=n(5247),v=n(6135),p=n(4313);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={class:"mr:8 font:24"},k={class:"form-table",role:"presentation"},h={scope:"row"},w=(0,r._)("p",{class:"description"}," Paste the SiteKey to fill the below fields automatically. ",-1),S={scope:"row"},x=(0,r._)("span",{class:"fg:red-35"},"*",-1),j={scope:"row"},O=(0,r._)("span",{class:"fg:red-35"},"*",-1),U={key:0,class:"description"},Z={key:0},D={class:"font:semibold"},P=(0,r._)("br",null,null,-1),z=(0,r._)("span",{class:"font:semibold"},"Oxygen: ",-1),$=(0,r._)("br",null,null,-1),C=(0,r._)("span",{class:"font:semibold"},"Yabe Kokoro: ",-1),T={scope:"row"},q=(0,r._)("span",{class:"fg:red-35"},"*",-1),H={class:"flex"},K={class:"rel flex mr:8 align-items:center"},N=["type"],V=(0,r._)("p",{class:"description"},[(0,r.Uk)(" License key generated by Yabe Kokoro should be prefixed with "),(0,r._)("code",null,"!kokoro:")],-1),W={scope:"row"},R=["disabled"];const E={__name:"Create",setup:function(e){var t=(0,s.h)(),n=(0,l.tv)(),b=(0,f.k)(),y=(0,c.c)(),g=(0,d.G)(),E=(0,a.iH)(!0),F=(0,a.iH)(""),Y=(0,a.iH)(""),M=(0,a.iH)(""),A=(0,a.iH)(!0),I=(0,a.iH)(""),L=(0,a.iH)(null),B={status:null,connected:!1,yabeKokoroDetected:!1,oxygenDetected:!1},X=(0,a.iH)(m({},B));function G(){M.value="",I.value="",Y.value="",A.value=!0}function Q(e){e.preventDefault(),y.add("remote.create:send-form");var r=t.request({method:"POST",url:"/admin/remotes/store",data:{title:M.value,license_key:Y.value,status:A.value,remote_url:I.value}}).then((function(e){var t=n.resolve({name:"remotes.edit",params:{id:e.data.id}}).href;g.add({type:"success",message:'<p>Remote saved successfully. <a href="'.concat(t,'">Edit Remote</a></p>')}),G()})).finally((function(){y.remove("remote.create:send-form")}));b.async(r,"Remote stored successfully.",void 0,"Storing remote...")}return(0,r.YP)(F,(function(e,t){if(""!==e&&e!==t)try{var n=atob(e).split("\n");3===n.length&&(I.value=n[0],M.value=n[1],Y.value=n[2])}catch(e){}})),(0,r.YP)(I,(0,u.Z)((function(e,n){e!==n&&(X.value=m({},B),""!==e&&L.value.checkValidity()&&(X.value.status="loading",t.request({method:"POST",url:"/admin/remotes/check-connection",data:{remote_url:e.trim().replace(/\/$/,"")}}).then((function(e){200===e.status?(X.value=m(m({},X.value),{},{status:!0,connected:!0}),X.value.yabeKokoroDetected=void 0!==e.data.namespaces.find((function(e){return"yabe-kokoro/v1"===e})),X.value.oxygenDetected=void 0!==e.data.namespaces.find((function(e){return"oxygen-vsb-connection/v1"===e}))):X.value.status=!1})).catch((function(e){X.value=m(m({},B),{},{status:!1})}))))}),100)),(0,r.wF)((function(){G()})),function(e,t){var n=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("span",_,"» "+(0,o.zw)((0,a.SU)(v.__)("New","yabe-kokoro")),1),(0,r._)("form",{onSubmit:Q},[(0,r._)("div",null,[(0,r._)("table",k,[(0,r._)("tbody",null,[(0,r._)("tr",null,[(0,r._)("th",h,[(0,r._)("label",null,(0,o.zw)((0,a.SU)(v.__)("SiteKey","yabe-kokoro")),1)]),(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"text",name:"siteKey","onUpdate:modelValue":t[0]||(t[0]=function(e){return F.value=e})},null,512),[[i.nr,F.value,void 0,{trim:!0,lazy:!0}]]),w])]),(0,r._)("tr",null,[(0,r._)("th",S,[(0,r._)("label",null,[(0,r.Uk)((0,o.zw)((0,a.SU)(v.__)("Title","yabe-kokoro"))+" ",1),x])]),(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"text",name:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return M.value=e}),required:""},null,512),[[i.nr,M.value,void 0,{trim:!0,lazy:!0}]])])]),(0,r._)("tr",null,[(0,r._)("th",j,[(0,r._)("label",null,[(0,r.Uk)((0,o.zw)((0,a.SU)(v.__)("Remote URL","yabe-kokoro"))+" ",1),O])]),(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"url",ref_key:"remoteUrlField",ref:L,name:"remote_url","onUpdate:modelValue":t[2]||(t[2]=function(e){return I.value=e}),required:""},null,512),[[i.nr,I.value,void 0,{trim:!0,lazy:!0}]]),null!==X.value.status?((0,r.wg)(),(0,r.iD)("p",U,["loading"===X.value.status?((0,r.wg)(),(0,r.iD)("span",Z,[(0,r.Wm)(n,{icon:["fas","spinner"],class:"mr:4 fg:gray-60 animation:rotate|linear|1s|infinite"}),(0,r.Uk)(" "+(0,o.zw)((0,a.SU)(v.__)("Connecting","yabe-kokoro"))+"... ",1)])):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("span",D,(0,o.zw)((0,a.SU)(v.__)("Server","yabe-kokoro"))+": ",1),(0,r._)("span",{class:(0,o.C_)(X.value.connected?"fg:green-50":"fg:red-40")},(0,o.zw)(X.value.connected?(0,a.SU)(v.__)("Connected","yabe-kokoro"):(0,a.SU)(v.__)("Failed to connect","yabe-kokoro")),3),P,z,(0,r._)("span",{class:(0,o.C_)(X.value.oxygenDetected?"fg:green-50":"fg:red-40")},(0,o.zw)(X.value.oxygenDetected?(0,a.SU)(v.__)("Detected","yabe-kokoro"):(0,a.SU)(v.__)("Not detected","yabe-kokoro")),3),$,C,(0,r._)("span",{class:(0,o.C_)(X.value.yabeKokoroDetected?"fg:green-50":"fg:yellow-60")},(0,o.zw)(X.value.yabeKokoroDetected?(0,a.SU)(v.__)("Detected","yabe-kokoro"):(0,a.SU)(v.__)("Not detected","yabe-kokoro")),3)],64))])):(0,r.kq)("v-if",!0)])]),(0,r._)("tr",null,[(0,r._)("th",T,[(0,r._)("label",null,[(0,r.Uk)((0,o.zw)((0,a.SU)(v.__)("License Key","yabe-kokoro"))+" ",1),q])]),(0,r._)("td",null,[(0,r._)("div",H,[(0,r._)("div",K,[(0,r.wy)((0,r._)("input",{type:E.value?"text":"password",name:"secret_license_key","onUpdate:modelValue":t[3]||(t[3]=function(e){return Y.value=e}),autocomplete:"current-password",class:"min-w:300 hide::-ms-reveal",required:""},null,8,N),[[i.YZ,Y.value]]),(0,r._)("span",{onClick:t[4]||(t[4]=function(e){return E.value=!E.value}),class:"flex align-items:center ml:-24 fg:gray-60 fg:gray-40:hover cursor:pointer"},[E.value?((0,r.wg)(),(0,r.j4)(n,{key:1,icon:["fas","eye-slash"],class:"font:15"})):((0,r.wg)(),(0,r.j4)(n,{key:0,icon:["fas","eye"],class:"font:15"}))])])]),V])]),(0,r._)("tr",null,[(0,r._)("th",W,[(0,r._)("label",null,(0,o.zw)((0,a.SU)(v.__)("Status","yabe-kokoro")),1)]),(0,r._)("td",null,[(0,r.Wm)((0,a.SU)(p.Mv),{as:"div",class:"flex align-items:center"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,a.SU)(p.rs),{modelValue:A.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return A.value=e}),class:(0,o.C_)([[A.value?"bg:sky-55":"opacity:.5 bg:gray-85"],"rel inline-flex p:0 h:24 w:44 flex-shrink:0 cursor:pointer rounded b:2 b:transparent transition-property:color,background-color,border-color,text-decoration-color,fill,stroke transition-duration:200 transition-timing-function:cubic-bezier(0.4,0,0.2,1) box-shadow:rgb(255,255,255)|0|0|0|2,rgb(14,165,233)|0|0|0|4,rgba(0,0,0,0)|0|0|0|0:focus outline:2|solid|transparent:focus"])},{default:(0,r.w5)((function(){return[(0,r._)("span",{class:(0,o.C_)([[A.value?"translateX(20)":"translateX(0)"],"pointer-events:none rel inline-block font:12 h:20 w:20 rounded bg:white transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter transition-duration:200 transition-timing-function:cubic-bezier(0.4,0,0.2,1) box-shadow:rgb(255,255,255)|0|0|0|0,rgba(59,130,246,0.5)|0|0|0|0,rgba(0,0,0,0.1)|0|1|3|0,rgba(0,0,0,0.1)|0|1|2|-1"])},[(0,r._)("span",{"aria-hidden":"true",class:(0,o.C_)([[A.value?"opacity:0 transition-timing-function:ease-out transition-duration:100":"opacity:1 transition-timing-function:ease-in transition-duration:200"],"abs inset:0 flex h:full w:full align-items:center justify-content:center tw-transition-opacity"])},[(0,r.Wm)(n,{icon:["fas","xmark"],class:"fg:gray-60"})],2),(0,r._)("span",{"aria-hidden":"true",class:(0,o.C_)([[A.value?"opacity:1 transition-timing-function:ease-in transition-duration:200":"opacity:0 transition-timing-function:ease-out transition-duration:100"],"abs inset:0 flex h:full w:full align-items:center justify-content:center tw-transition-opacity"])},[(0,r.Wm)(n,{icon:["fas","check"],class:"fg:sky-55"})],2)],2)]})),_:1},8,["modelValue","class"]),(0,r.Wm)((0,a.SU)(p.$A),{as:"span",class:(0,o.C_)([[A.value?"fg:black":"fg:gray-60"],"ml:8 font:medium tw-cursor-pointer"])},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(A.value?"enabled":"disabled"),1)]})),_:1},8,["class"])]})),_:1})])])])]),(0,r._)("button",{type:"submit",name:"save",id:"save",disabled:(0,a.SU)(y).isBusy,class:"button button-primary button-large",value:"save"},"Save",8,R)])],32)],64)}}}},4356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(9615).Z.Symbol},9572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(4356),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,l=r.Z?r.Z.toStringTag:void 0;const u=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[l]=n:delete e[l]),o};var s=Object.prototype.toString;const c=function(e){return s.call(e)};var f=r.Z?r.Z.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):c(e)}},7889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},9615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7889),o="object"==typeof self&&self&&self.Object===Object&&self;const a=r.Z||o||Function("return this")()},9389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(2433),o=n(9615);const a=function(){return o.Z.Date.now()};var i=/\s/;const l=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t};var u=/^\s+/;const s=function(e){return e?e.slice(0,l(e)+1).replace(u,""):e};var c=n(8111),f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,p=parseInt;const b=function(e){if("number"==typeof e)return e;if((0,c.Z)(e))return NaN;if((0,r.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=d.test(e);return n||v.test(e)?p(e.slice(2),n?2:8):f.test(e)?NaN:+e};var y=Math.max,m=Math.min;const g=function(e,t,n){var o,i,l,u,s,c,f=0,d=!1,v=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=o,r=i;return o=i=void 0,f=t,u=e.apply(r,n)}function _(e){var n=e-c;return void 0===c||n>=t||n<0||v&&e-f>=l}function k(){var e=a();if(_(e))return h(e);s=setTimeout(k,function(e){var n=t-(e-c);return v?m(n,l-(e-f)):n}(e))}function h(e){return s=void 0,p&&o?g(e):(o=i=void 0,u)}function w(){var e=a(),n=_(e);if(o=arguments,i=this,c=e,n){if(void 0===s)return function(e){return f=e,s=setTimeout(k,t),d?g(e):u}(c);if(v)return clearTimeout(s),s=setTimeout(k,t),g(c)}return void 0===s&&(s=setTimeout(k,t)),u}return t=b(t)||0,(0,r.Z)(n)&&(d=!!n.leading,l=(v="maxWait"in n)?y(b(n.maxWait)||0,t):l,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==s&&clearTimeout(s),f=0,o=c=i=s=void 0},w.flush=function(){return void 0===s?u:h(a())},w}},2433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},8111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9572),o=n(3795);const a=function(e){return"symbol"==typeof e||(0,o.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}}}]);